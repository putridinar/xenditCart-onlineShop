<div class="container my-5">
    <div class="row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border shadow-lg overflow-hidden">
		<span>{% if layout.xendit_options == "live" %}{% elsif layout.xendit_options == "test" %}<span class="badge bg-warning rounded-pill blink">ðŸŸ </span> test-mode{% endif %}</span>
      <div class="col-lg-7 p-3 p-lg-5 pt-lg-3">
        <h1 class="display-4 fw-bold lh-1">{{site.title}}</h1>
        <p class="lead">{{site.description}}.</p>
        <div class="d-grid gap-2 d-md-flex justify-content-md-start mb-4 mb-lg-3">
          <a href="{{site.baseurl}}/userLogin" type="button" id="log-in" class="btn btn-primary btn-lg px-4 me-md-2 fw-bold" style="display:none;">Login</a>
          <a href="{{site.baseurl}}/allProduct" type="button" class="btn btn-outline-secondary btn-lg px-4">Product</a>
        </div>
      </div>
      <div class="mobile_hide col-lg-4 offset-lg-1 p-0 overflow-hidden shadow-lg" style="height:240px;">
	  <img class="rounded-lg-3" src="{{site.avatar}}" alt="" width="420"></div>
	 </div>
</div>
<style>
.blink {
  animation: blink-animation 2s steps(2, start) infinite;
  -webkit-animation: blink-animation 2s steps(2, start) infinite;
}

@keyframes blink-animation {
  to {
    visibility: hidden;
  }
}
@-webkit-keyframes blink-animation {
  to {
    visibility: hidden;
  }
}
</style>
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";

const firebaseConfig = {
    apiKey: "{{site.env.api_key}}",
    authDomain: "{{site.env.auth_domain}}",
    projectId: "{{site.env.project_id}}",
    storageBucket: "{{site.env.storage_bucket}}",
    messagingSenderId: "{{site.env.sender_id}}",
    appId: "{{site.env.app_id}}",
    measurementId: "{{site.env.measure_id}}"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);


let currentUser = null;

const logInbtn = document.getElementById('log-in');


onAuthStateChanged(auth, (user) => {
  if (user) {
    currentUser = user;
    logInbtn.style.display = 'none';
  } else {
    currentUser = null;
    logInbtn.style.display = "block";
  }
});
</script>